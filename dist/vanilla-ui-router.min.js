!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.vanillaUIRouter=e.vanillaUIRouter||{})}(this,function(e){"use strict";var n=function(e){return isNaN(e)?"true"===e||"false"===e?JSON.parse(e):e:parseInt(e,10)},t=function(e,t){var r=t.split("/"),o=e.split("/");return o.map(function(e,n){if(e.indexOf(":",0)===-1)return null;var t={},o=e.substr(1,e.length-1);return t[o]=r[n],t}).filter(function(e){return null!==e}).reduce(function(e,t){return Object.keys(t).forEach(function(r){e[r]=n(t[r])}),e},{})},r=function(e,n){var t=e.split("/"),r=t[0];return n.filter(function(e){var n=e.split("/"),o=0===n.map(function(e,n){return e.indexOf(":",0)!==-1||e===t[n]}).reduce(function(e,n){return n===!1&&++e,e},0);return e.indexOf(r,0)!==-1&&o&&t.length===n.length})[0]},o=function(e,n){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&n(t.responseText)},t.open("GET",e),t.send()},i=function(e,n,t){if(e&&(e.templateString&&(n.innerHTML=e.templateString,t()),e.templateUrl&&o(e.templateUrl,function(e){n.innerHTML=e,t()}),e.templateId)){var r=document.getElementById(e.templateId);n.innerHTML=r.text,t()}},a=function(e){var n={},o=e.cloneNode(!0),a=null,u=function(e){window.location.hash=e},f=function(e){n["*"]=e},d=function e(t,r,o){return n[t]=r,n[t].data=o,{addRoute:e,otherwise:f,navigateTo:u}},c=function(){if(e.parentElement){var n=o.cloneNode(!0);e.parentElement.insertBefore(n,e),"undefined"==typeof e.remove?e.removeNode(!0):e.remove(),e=n}},l=function(){a&&"undefined"!=typeof a.dispose&&a.dispose(e)},s=function(){var o="*",u=location.hash.slice(1),f=r(u,Object.keys(n)),d={};f&&(d=t(f,u));var s=Object.keys(n).indexOf(f)>-1?n[f]:n[o];s&&(l(s),a=s,c(),"function"==typeof s?s(e,d,s.data):i(s,e,function(){"function"==typeof s.routeHandler&&s.routeHandler(e,d,s.data)}))};return window&&(window.removeEventListener("hashchange",s),window.addEventListener("hashchange",s),window.removeEventListener("load",s),window.addEventListener("load",s)),{addRoute:d,otherwise:f,navigateTo:u}};e.createRouter=a,Object.defineProperty(e,"__esModule",{value:!0})});
