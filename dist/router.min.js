!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.router=e.router||{})}(this,function(e){"use strict";var n=function(e){return isNaN(e)?"true"===e||"false"===e?JSON.parse(e):e:parseInt(e,10)},t=function(e,t){var r=t.split("/"),i=e.split("/");return i.map(function(e,n){if(e.indexOf(":",0)===-1)return null;var t={},i=e.substr(1,e.length-1);return t[i]=r[n],t}).filter(function(e){return null!==e}).reduce(function(e,t){return Object.keys(t).forEach(function(r){e[r]=n(t[r])}),e},{})},r=function(e,n){var t=e.split("/"),r=t[0];return n.filter(function(e){var n=e.split("/"),i=0===n.map(function(e,n){return e.indexOf(":",0)!==-1||e===t[n]}).reduce(function(e,n){return n===!1&&++e,e},0);return e.indexOf(r,0)!==-1&&i&&t.length===n.length})[0]},i=function(e,n){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&n(t.responseText)},t.open("GET",e),t.send()},o=function(e,n){if(e&&(e.templateString&&(n.innerHTML=e.templateString),e.templateUrl&&i(e.templateUrl,function(e){n.innerHTML=e}),e.templateId)){var t=document.getElementById(e.templateId);n.innerHTML=t.text}},u=function(e){var n={},i=function(){return{addRoute:u,otherwise:f,navigateTo:a}},u=function(e,t){return n[e]=t,i()},a=function(e){window.location.hash=e},f=function(e){n["*"]=e},c=function(){var i="*",u=location.hash.slice(1),a=r(u,Object.keys(n)),f={};a&&(f=t(a,u));var c=Object.keys(n).indexOf(a)!==-1?n[a]:n[i];c&&("function"==typeof c?c(e,f):(o(c,e),"function"==typeof c.routeHandler&&c.routeHandler(e,f)))};return window&&(window.removeEventListener("hashchange",c),window.addEventListener("hashchange",c),window.removeEventListener("load",c),window.addEventListener("load",c)),i()};e.createRouter=u,Object.defineProperty(e,"__esModule",{value:!0})});
