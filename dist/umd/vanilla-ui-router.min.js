!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.vanillaUIRouter=e.vanillaUIRouter||{})}(this,function(e){"use strict";var n=function(e){return isNaN(e)?"true"===e||"false"===e?JSON.parse(e):e:parseInt(e,10)},t=function(e,t){var o=t.split("/"),r=e.split("/");return r.map(function(e,n){if(e.indexOf(":",0)===-1)return null;var t={},r=e.substr(1,e.length-1);return t[r]=o[n],t}).filter(function(e){return null!==e}).reduce(function(e,t){return Object.keys(t).forEach(function(o){e[o]=n(t[o])}),e},{})},o=function(e,n){var t=e.split("/"),o=t[0];return n.filter(function(e){var n=e.split("/"),r=0===n.map(function(e,n){return e.indexOf(":",0)!==-1||e===t[n]}).reduce(function(e,n){return n===!1&&++e,e},0);return e.indexOf(o,0)!==-1&&r&&t.length===n.length})[0]},r=window.XMLHttpRequest,i=function(e,n){var t=new r;t.onreadystatechange=function(){4===t.readyState&&n(t.responseText)},t.open("GET",e),t.send()},a=function(e,n,t){if(e&&(e.templateString&&(n.innerHTML=e.templateString,t()),e.templateUrl&&i(e.templateUrl,function(e){n.innerHTML=e,t()}),e.templateId)){var o=document.getElementById(e.templateId);n.innerHTML=o.text,t()}},u=function(e){var n={},r=e.cloneNode(!0),i=null,u=function(e){window.location.hash=e},d=function(e){n["*"]=e},f=function e(t,o,r){return n[t]=o,n[t].data=r,{addRoute:e,otherwise:d,navigateTo:u}},c=function(){if(e.parentElement){var n=r.cloneNode(!0);e.parentElement.insertBefore(n,e),"undefined"==typeof e.remove?e.removeNode(!0):e.remove(),e=n}},l=function(){i&&"undefined"!=typeof i.dispose&&i.dispose(e)},s=function(){var r="*",u=location.hash.slice(1),d=o(u,Object.keys(n)),f={};d&&(f=t(d,u));var s=Object.keys(n).indexOf(d)>-1?n[d]:n[r];s&&(l(s),i=s,c(),"function"==typeof s?s(e,f,s.data):a(s,e,function(){"function"==typeof s.routeHandler&&s.routeHandler(e,f,s.data)}))};return window&&(window.removeEventListener("hashchange",s),window.addEventListener("hashchange",s),window.removeEventListener("load",s),window.addEventListener("load",s)),{addRoute:f,otherwise:d,navigateTo:u}};e.createRouter=u,Object.defineProperty(e,"__esModule",{value:!0})});
